<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>HTML Copy Panel</title>

<style>
body{
    background:#000;
    color:#fff;
    font-family:Arial;
    text-align:center;
}

h1{
    color:#00ffff;
    margin-top:20px;
}

input{
    padding:8px;
    margin:10px;
    width:200px;
}

table{
    margin:auto;
    border-collapse:collapse;
    width:95%;
}

th,td{
    border:1px solid #444;
    padding:8px;
    cursor:pointer;
}

th{
    background:#111;
    color:#00ffff;
}

td.green{
    background:green;
    color:#fff;
}

button{
    padding:5px 10px;
    cursor:pointer;
}

#copiedMsg{
    margin-top:10px;
    color:#00ff00;
    font-weight:bold;
}
</style>
</head>

<body>

<h1>Copy Panel</h1>

<input type="number" id="serialFilter" placeholder="Filter by Serial Number" onkeyup="filterSerial()">

<table id="dataTable">
<thead>
<tr>
<th>Serial</th>
<th>Username</th>
<th>Password</th>
<th>Undo</th>
</tr>
</thead>
<tbody></tbody>
</table>

<div id="copiedMsg"></div>

<script>

const data = `
3732	CN082567798
3875	CN082567845
7599	CN082567868
4346	CN082567876
1285	CN082571250
8010	CN082571260
6495	CN082571263
7262	CN082571267
7991	CN082571271
8931	CN082572782
8183	CN082573923
2613	CN082577869
9601	CN082580731
4471	CN092512695
8089	CN092513821
2248	CN092513832
4770	CN092513836
5264	CN092513841
6485	CN092521231
5307	CN092521243
4048	CN092521440
9592	CN092521492
5751	CN092521532
2495	CN092521625
9936	CN092521774
2412	CN092524697
7346	CN092524728
2828	CN092524965
8317	CN092527136
9722	CN092527467
5668	CN092527514
3647	CN092527578
4492	CN092527685
5069	CN092527690
1955	CN092527795
1821	CN092527812
4128	CN092528515
3805	CN092528866
1287	CN092529043
2943	CN092529234
2583	CN092531069
4340	CN092531993
5675	CN092533375
8085	CN092534015
6485	CN092537052
7407	CN092537106
9724	CN092537527
1994	CN092537771
7469	CN092537916
9899	CN052536946
7198	CN052536947
8049	CN052536949
8128	CN052537245
4068	CN052537256
2112	CN052537261
3819	CN052537290
8560	CN052537300
6418	CN052537313
7830	CN052537786
1076	CN052537850
6433	CN052537922
7780	CN052537940
8622	CN052537971
2115	CN052542131
2019	CN052542143
8094	CN052542435
6548	CN052553727
3702	CN052553765
1974	CN052553766
9202	CN052553823
8823	CN052554207
6802	CN052554376
6861	CN052554707
6475	CN052555104
5406	CN052555916
6177	CN052556378
7773	CN052556396
6033	CN052556554
6348	CN052558710
4748	CN052558714
1141	CN052558829
4052	CN052558844
9545	CN052558852
6835	CN052558858
1306	CN052559437
5193	CN052561287
6302	CN052561850
9485	CN052561910
5159	CN052562048
5767	CN052562209
7720	CN052562298
4192	CN052562529
9257	CN052563214
6455	CN052563259
2383	CN052563299
1754	CN052563514
7230	CN052563515
1660	CN052563516
2423	CN072552535
1002	CN072573579
7969	CN072573586
1203	CN072577063
5037	CN072577064
2690	CN072577088
1863	CN072577115
6511	CN072592462
7374	CN072592470
2135	CN082536187
1600	CN082536190
4575	CN082536193
3136	CN082536198
4748	CN082536205
8829	CN082565842
4500	CN082565855
3722	CN082565860
5299	CN082577047
3978	CN082577067
1405	CN082577080
9893	CN082577113
3874	CN082577128
1099	CN082577138
4583	CN082577243
2915	CN082577254
9407	CN082577263
5676	CN082577272
7374	CN082577288
8721	CN082577323
6486	CN082577335
4442	CN082577340
4693	CN092564235
5361	CN092564237
9647	CN092564239
5043	CN092564241
7334	CN092564245
7097	CN092566731
8138	CN092566838
2106	CN092566938
1812	CN092566981
3635	CN092567039
1793	CN092567051
7698	CN092567224
3424	CN092567281
1328	CN092567357
4739	CN092567703
9891	CN092567959
5253	CN092577739
6228	CN092583518
8638	CN092593332
3204	CN092593626
8058	CN092594165
6515	CN092595715
6317	CN092595716
4908	CN092595718
9974	CN092595719
7647	CN0925123438
7491	CN0925123440
7334	CN0925123452
4706	CN0925123487
5191	CN0925123583
8847	CN0925123592
6185	CN0925123594
9905	CN0925123595
3009	CN0925123611
1479	CN0925128540
4263	CN0925128604
9027	CN0925128621
1004	CN0925129446
7533	CN0925129451
6721	CN0925129457
2457	CN102522722
1230	CN102522726
3345	CN102522740
4307	CN102522747
3782	CN102522749
2807	CN102522915
7867	CN102522946
5300	CN102532756
7707	CN102532793
3439	CN102532823
6086	CN102532870
6502	CN102542319
1812	CN102560872
7141	CN102569264
1469	CN102569271
5169	CN102569272
3454	CN102569293
`;

const tbody = document.querySelector("#dataTable tbody");
const rows = data.trim().split("\n");

rows.forEach((line,index)=>{
    const parts = line.split(/\s+/);
    const tr = document.createElement("tr");

    tr.innerHTML = `
        <td>${index+1}</td>
        <td onclick="copyCell(this)">${parts[0]}</td>
        <td onclick="copyCell(this)">${parts[1]}</td>
        <td><button onclick="undoRow(this)">Undo</button></td>
    `;

    tbody.appendChild(tr);
});

function copyCell(cell){
    navigator.clipboard.writeText(cell.innerText);
    cell.classList.add("green");
    document.getElementById("copiedMsg").innerHTML="âœ” Copied";
    saveState();
}

function undoRow(btn){
    const row = btn.parentElement.parentElement;
    row.querySelectorAll("td").forEach(td=>{
        if(td.classList.contains("green")){
            td.classList.remove("green");
        }
    });
    saveState();
}

function filterSerial(){
    const value = document.getElementById("serialFilter").value;
    document.querySelectorAll("#dataTable tbody tr").forEach(row=>{
        const serial = row.cells[0].innerText;
        row.style.display = serial.includes(value) ? "" : "none";
    });
}

function saveState(){
    let greenCells=[];
    document.querySelectorAll("td.green").forEach(td=>{
        greenCells.push(td.parentElement.rowIndex+"-"+td.cellIndex);
    });
    location.hash = greenCells.join(",");
}

function loadState(){
    if(location.hash){
        const items = location.hash.substring(1).split(",");
        items.forEach(item=>{
            const parts = item.split("-");
            const r = document.getElementById("dataTable").rows[parts[0]];
            if(r && r.cells[parts[1]]){
                r.cells[parts[1]].classList.add("green");
            }
        });
    }
}

loadState();

</script>

</body>
</html>
